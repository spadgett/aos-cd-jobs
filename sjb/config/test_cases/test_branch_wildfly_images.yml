---
parent: 'common/test_cases/s2i.yml'
overrides:
  description: |-
    WARNING: Autogenerated job definition, do not edit.  See https://github.com/openshift/aos-cd-jobs/tree/master/sjb&#34;&gt;openshift/aos-cd-jobs.
    Builds the wildfly image from the openshift-s2i/s2i-wildfly repository.  References sti-wildfly as the repo because
    oct does not support non-openshift repository orgs.  openshift/sti-wildfly redirects to openshift-s2i/s2i-wildfly.
extensions:
  sync_repos:
    - name: "sti-wildfly"
  actions:
    - type: "script"
      title: "build the wildfly images"
      repository: "sti-wildfly"
      timeout: 10800
      script: |-
        make build TARGET=centos7
    - type: "script"
      title: "test the wildfly images"
      repository: "sti-wildfly"
      timeout: 7200
      script: |-
        make test TARGET=centos7 TAG_ON_SUCCESS=true